Parse.initialize("qStdqzNUq7WnxxK5mu1VHFHVjU3JXo4frzcxeRmH","s6f6SjFKLmGVlA7oqHfecJCE7u1K0Am9Yzb9hE6t"),filepicker.setKey("AFLbZroQeC5fnjZH5RpUAz"),$(".logout").click(function(){Parse.User.logOut(),router.navigate("home",{trigger:!0}),alert("user has logged out!")});var Review=Parse.Object.extend("review"),User=Parse.Object.extend("User"),News=Parse.Object.extend("News"),Reviewer=Parse.Object.extend("Reviewer"),Forum=Parse.Object.extend("Forum"),Comment=Parse.Object.extend("Comment"),ReviewComment=Parse.Object.extend("ReviewComment"),NewsComment=Parse.Object.extend("NewsComment"),ReviewerComment=Parse.Object.extend("ReviewerComment"),ReviewCollection=Parse.Collection.extend({model:Review}),UserCollection=Parse.Collection.extend({model:User}),NewsCollection=Parse.Collection.extend({model:News}),ReviewerCollection=Parse.Collection.extend({model:Reviewer}),ForumCollection=Parse.Collection.extend({model:Forum}),CommentCollection=Parse.Collection.extend({model:Comment}),ReviewCommentCollection=Parse.Collection.extend({model:ReviewComment}),LoginView=Parse.View.extend({template:_.template($(".login-view").text()),events:{"click .login":"userLogin"},initialize:function(){$(".views-container").append(this.el),this.render()},render:function(){var a=this.template(this.model);return this.$el.html(a),this},userLogin:function(){new Parse.User;Parse.User.logIn($(".username").val(),$(".password").val(),{success:function(){currentUser=Parse.User.current(),router.navigate("home",{trigger:!0})},error:function(a,b){alert("Error"+b.code+" "+b.message)}})}}),mainImage,imageOne,imageTwo,imageThree,CreateReviewView=Parse.View.extend({className:"create-review",template:_.template($(".create-review-view").text()),events:{"click .create":"createReview","click .add-pic":"addPic","click .image-one":"addImageOne","click .image-two":"addImageTwo","click .image-three":"addImageThree"},initialize:function(){$(".views-container").append(this.el),this.render()},render:function(){var a=this.template(this.model);return this.$el.html(a),this},addPic:function(){filepicker.pick(function(a){mainImage=a.url})},addImageOne:function(){filepicker.pick(function(a){imageOne=a.url})},addImageTwo:function(){filepicker.pick(function(a){imageTwo=a.url})},addImageThree:function(){filepicker.pick(function(a){imageThree=a.url})},createReview:function(){if($("input[name='game']").is(":checked")){var a=Parse.User.current(),b=a.attributes.username,c=Parse.User.current().attributes.userPic,d=new Review,e=$(".game-title").val(),f=$(".review-content").val(),g=$(".second-review-content").val(),h=$(".thrid-review-content").val(),i=$(".fourth-review-content").val(),j=$(".quick-review").val(),k=$(".developer").val(),l=$(".publisher").val(),m=$(".score").val(),n=$(".image-one-caption").val(),o=$(".image-two-caption").val(),p=$(".image-three-caption").val();d.set("reviewerObject",a),d.set("reviewer",b),d.set("reviewerPic",c),d.set("name",e),d.set("score",m),d.set("image",mainImage),d.set("imageOne",imageOne),d.set("imageTwo",imageTwo),d.set("imageThree",imageThree),d.set("reviewOne",f),d.set("reviewTwo",g),d.set("reviewThree",h),d.set("reviewFour",i),d.set("quickReview",j),d.set("developer",k),d.set("publisher",l),d.set("captionOne",n),d.set("captionTwo",o),d.set("captionThree",p),d.save(null,{success:function(){$(".game-title").val(""),$(".game-image").val(""),$(".review-content").val(""),$(".quick-review").val(""),$(".score").val(""),$(".developer").val(""),$(".publisher").val(""),$(".second-review-content").val(""),$(".thrid-review-content").val(""),$(".fourth-review-content").val(""),$(".image-one-caption").val(""),$(".image-two-caption").val(""),$(".image-three-caption").val("")},error:function(){console.log("nope")}}).done(function(){a.relation("reviews").add(d),a.save(null,{success:function(){console.log("cool")},error:function(){console.log("error")}})})}else if($("input[name='reviewer']").is(":checked")){var a=Parse.User.current(),b=a.attributes.username,c=Parse.User.current().attributes.userPic,q=new Reviewer,e=$(".game-title").val(),f=$(".review-content").val(),g=$(".second-review-content").val(),h=$(".thrid-review-content").val(),i=$(".fourth-review-content").val(),j=$(".quick-review").val(),k=$(".developer").val(),l=$(".publisher").val(),m=$(".score").val(),n=$(".image-one-caption").val(),o=$(".image-two-caption").val(),p=$(".image-three-caption").val();q.set("reviewerObject",a),q.set("reviewer",b),q.set("reviewerPic",c),q.set("name",e),q.set("score",m),q.set("image",mainImage),q.set("imageOne",imageOne),q.set("imageTwo",imageTwo),q.set("imageThree",imageThree),q.set("reviewOne",f),q.set("reviewTwo",g),q.set("reviewThree",h),q.set("reviewFour",i),q.set("quickReview",j),q.set("developer",k),q.set("publisher",l),q.set("captionOne",n),q.set("captionTwo",o),q.set("captionThree",p),q.save(null,{success:function(){$(".game-title").val(""),$(".game-image").val(""),$(".review-content").val(""),$(".quick-review").val(""),$(".score").val(""),$(".developer").val(""),$(".publisher").val(""),$(".second-review-content").val(""),$(".thrid-review-content").val(""),$(".fourth-review-content").val(""),$(".image-one-caption").val(""),$(".image-two-caption").val(""),$(".image-three-caption").val(""),console.log("saved")},error:function(){console.log("nope")}}).done(function(){a.relation("reviewers").add(q),console.log("user"),a.save(null,{success:function(){console.log("cool")},error:function(){console.log("error")}})})}else if($("input[name='news']").is(":checked")){var a=Parse.User.current(),b=a.attributes.username,c=Parse.User.current().attributes.userPic,r=new News,e=$(".game-title").val(),f=$(".review-content").val(),g=$(".second-review-content").val(),h=$(".thrid-review-content").val(),i=$(".fourth-review-content").val(),j=$(".quick-review").val(),k=$(".developer").val(),l=$(".publisher").val(),m=$(".score").val(),n=$(".image-one-caption").val(),o=$(".image-two-caption").val(),p=$(".image-three-caption").val();r.set("reviewerObject",a),r.set("reviewer",b),r.set("reviewerPic",c),r.set("name",e),r.set("score",m),r.set("image",mainImage),r.set("imageOne",imageOne),r.set("imageTwo",imageTwo),r.set("imageThree",imageThree),r.set("reviewOne",f),r.set("reviewTwo",g),r.set("reviewThree",h),r.set("reviewFour",i),r.set("quickReview",j),r.set("developer",k),r.set("publisher",l),r.set("captionOne",n),r.set("captionTwo",o),r.set("captionThree",p),r.save(null,{success:function(){$(".game-title").val(""),$(".game-image").val(""),$(".review-content").val(""),$(".quick-review").val(""),$(".score").val(""),$(".developer").val(""),$(".publisher").val(""),$(".second-review-content").val(""),$(".thrid-review-content").val(""),$(".fourth-review-content").val(""),$(".image-one-caption").val(""),$(".image-two-caption").val(""),$(".image-three-caption").val("")},error:function(){console.log("nope")}}).done(function(){a.relation("news").add(r),a.save(null,{success:function(){console.log("cool")},error:function(){console.log("error")}})})}}}),ReviewView=Parse.View.extend({className:"review-contents",template:_.template($(".review-view").text()),events:{"click .click":"renderFull"},initialize:function(){$(".views-container").append(this.el),this.render()},render:function(){var a=this.template(this.model.attributes);return this.$el.html(a),this},renderFull:function(){$(".views-container").empty();var a=this.model.id,b=this.model;console.log(b),new CreateSecondReviewView({model:b}),router.navigate("home/"+a,{trigger:!0})}}),secondImageOne,secondImageTwo,secondImageThree,CreateSecondReviewView=Parse.View.extend({className:"create-review",template:_.template($(".create-second-review-view").text()),events:{"click .edit":"edit","click .create":"finishedEdit","click .image-one":"addImageOne","click .image-two":"addImageTwo","click .image-three":"addImageThree"},initialize:function(){$(".views-container").append(this.el),this.render(),console.log(this.model)},render:function(){var a=this.template(this.model.attributes);return this.$el.html(a),this},edit:function(){{var a=this.model,b=$(".edit-quick-review").val(),c=$(".edit-review-one").val(),d=$(".edit-review-two").val(),e=$(".edit-review-three").val(),f=$(".edit-review-four").val(),g=$(".edit-caption-one").val();$(".edit-caption-two").val(),$(".edit-caption-three").val()}a.set("quickReview",b),a.set("reviewOne",c),a.set("reviewTwo",d),a.set("reviewThree",e),a.set("reviewFour",f),a.set("captionOne",g),a.set("reviewTwo",d),a.set("reviewThree",e),a.save(null,alert("you changed that shit!!!!"))},addImageOne:function(){filepicker.pick(function(a){secondImageOne=a.url})},addImageTwo:function(){filepicker.pick(function(a){secondImageTwo=a.url})},addImageThree:function(){filepicker.pick(function(a){secondImageThree=a.url})},finishedEdit:function(){console.log(this.model);var a=Parse.User.current().attributes.username,b=Parse.User.current().attributes.userPic,c=this.model,d=$(".review-content").val(),e=$(".second-review-content").val(),f=$(".thrid-review-content").val(),g=$(".fourth-review-content").val(),h=$(".image-one-caption").val(),i=$(".image-two-caption").val(),j=$(".image-three-caption").val(),k=$(".score").val();c.set("secondReviewer",a),c.set("secondReviewerPic",b),c.set("secondReviewOne",d),c.set("secondReviewTwo",e),c.set("secondReviewThree",f),c.set("secondReviewFour",g),c.set("secondCaptionOne",h),c.set("secondCaptionTwo",i),c.set("secondCaptionThree",j),c.set("secondImageOne",secondImageOne),c.set("secondImageTwo",secondImageTwo),c.set("secondImageThree",secondImageThree),c.set("secondScore",k),c.save(null,{success:function(){$(".review-content").val(""),$(".second-review-content").val(""),$(".thrid-review-content").val(""),$(".fourth-review-content").val(""),$(".image-one-caption").val(""),$(".image-two-caption").val(""),$(".image-three-caption").val(""),$(".second-score").val("")},error:function(){console.log("nope")}})}}),Router=Parse.Router.extend({routes:{"":"home",home:"home",createReview:"create",login:"login",review:"review"},initialize:function(){this.currentView=null;Parse.User.current();$(".views-container").empty()},home:function(){$(".views-container").empty();var a=(Parse.User.current(),new Parse.Query(Review));a.find({success:function(a){a.forEach(function(a){new ReviewView({model:a})})}}).done(function(){var a=new Parse.Query(Reviewer);a.find({success:function(a){a.forEach(function(a){new ReviewView({model:a})})}})}).done(function(){var a=new Parse.Query(News);a.find({success:function(a){a.forEach(function(a){new ReviewView({model:a})})}})})},create:function(){$(".views-container").empty();var a=new CreateReviewView;this.swap(a)},login:function(){var a=new LoginView;this.swap(a)},review:function(){},swap:function(a){this.currentView&&this.currentView.remove(),this.currentView=a,this.currentView.render()}}),router=new Router;Parse.history.start();